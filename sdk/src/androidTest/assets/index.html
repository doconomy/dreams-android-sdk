<!--
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Testing Dreams</title>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        // Let tests know they can call JS functions
        JSBridge.onTelemetryEvent(JSON.stringify({name:'content_loaded'}));
    });
    // data is a json string: '{ "locale": string }'
    function updateLocale(data) {
        var obj = JSON.parse(data);
        console.assert(obj.hasOwnProperty('locale'), 'missing locale');
        return obj.hasOwnProperty('locale');
    }
    // data is a json string: '{ "idToken": string }'
    function updateIdToken(data) {
        var obj = JSON.parse(data);
        console.assert(obj.hasOwnProperty('idToken'), 'missing id token');
        return obj.hasOwnProperty('idToken');
    }
    function onEvent(name, location) {
        window.JSBridge.onTelemetryEvent(JSON.stringify({name,payload:{location}}));
    }
    </script>
</head>
<body>
<p id="title">This is the testing PWA</p>
<button onclick="onEvent('user_click','button')">Click me!</button>
</body>
</html>
